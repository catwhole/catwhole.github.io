<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@700&family=Noto+Sans:ital,wght@0,100..900;1,100..900&family=Playfair+Display:wght@400;700&family=Courier+Prime&family=Bebas+Neue&family=Cinzel&display=swap" rel="stylesheet">
    <title>Sol's RNG Rolling Simulator</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="video-background-layer"></div>
    <video class="background-video" autoplay muted loop playsinline>
        <source src="Media/normal day.mp4" type="video/mp4">
    </video>

    <div class="intro-screen" id="introScreen">
        <div class="intro-container">
            <h1 class="intro-title">Sol's RNG Rolling Simulator</h1>
            <p class="intro-subtitle">By @catwhore</p>
            <div class="intro-version">v1.0.0</div>
            <button class="btn btn-primary start-button" id="startButton">Start Simulating!</button>
            <div class="toggle-controls" id="toggleControls">
                <button class="btn btn-toggle" id="sfxVolumeBtn">Sound Volume</button>
                <button class="btn btn-toggle" id="bgmVolumeBtn">Music Volume</button>
                <div class="volume-slider-container" id="sfxSliderContainer" style="display: none;">
                    <input type="range" id="sfxVolumeSlider" class="volume-slider" min="0" max="100" value="50">
                    <span class="volume-label" id="sfxVolumeLabel">50%</span>
                    <button class="mute-btn" id="sfxMuteBtn" title="Mute SFX">üîá</button>
                </div>
                <div class="volume-slider-container" id="bgmSliderContainer" style="display: none;">
                    <input type="range" id="bgmVolumeSlider" class="volume-slider" min="0" max="100" value="50">
                    <span class="volume-label" id="bgmVolumeLabel">50%</span>
                    <button class="mute-btn" id="bgmMuteBtn" title="Mute BGM">üîá</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Audio elements for button sounds -->
    <audio id="hoverSound" preload="auto">
        <source src="Sounds/sfx-hover.mp3" type="audio/mpeg">
    </audio>
    <audio id="clickSound" preload="auto">
        <source src="Sounds/sfx-click.mp3" type="audio/mpeg">
    </audio>
    <audio id="rollSound" preload="auto">
        <source src="Sounds/sfx-roll.mp3" type="audio/mpeg">
    </audio>
    <audio id="sfx1k" preload="auto">
        <source src="Sounds/sfx-1k.ogg" type="audio/ogg">
    </audio>
    <audio id="sfx10k" preload="auto">
        <source src="Sounds/sfx-10k.ogg" type="audio/ogg">
    </audio>
    <audio id="sfx100k" preload="auto">
        <source src="Sounds/sfx-100k.ogg" type="audio/ogg">
    </audio>
    <audio id="sfx10m" preload="auto">
        <source src="Sounds/sfx-10m.ogg" type="audio/ogg">
    </audio>
    <audio id="sfx100m" preload="auto">
        <source src="Sounds/sfx-100m.ogg" type="audio/ogg">
    </audio>
    <audio id="sfx100mlimbo" preload="auto">
        <source src="Sounds/sfx-100mlimbo.ogg" type="audio/ogg">
    </audio>

    <!-- Background music tracks -->
    <audio id="bgmDefault" data-bgm autoplay loop preload="auto">
        <source src="Sounds/bgm-intro.mp3" type="audio/mpeg">
    </audio>
    <audio id="bgmMain" data-bgm loop preload="auto">
        <source src="Sounds/bgm-main.mp3" type="audio/mpeg">
    </audio>
    <audio id="bgmLimbo" data-bgm loop preload="auto">
        <source src="Sounds/bgm-limbo.mp3" type="audio/mpeg">
    </audio>
    <audio id="bgmGlitch" data-bgm loop preload="auto">
        <source src="Sounds/bgm-glitch.mp3" type="audio/mpeg">
    </audio>
    <audio id="bgmDreamspace" data-bgm loop preload="auto">
        <source src="Sounds/bgm-dreamspace.mp3" type="audio/mpeg">
    </audio>

    <div id="mainMenu" class="hidden">
        <div id="mainMeta">
            <div id="versionTopLeft">v1.0.0</div>
            <div id="authorTopLeft">By @catwhore</div>
        </div>
        <div id="resultsBox"></div>
        <div id="singleResult"></div>

        <div id="buffsPanel">
            <div>Luck: <span id="buffLuck">1</span></div>
            <div>Rolls: <span id="buffRolls">1</span></div>
            <div>Biome: <span id="buffBiome">None</span></div>
            <div>Roll Speed: <span id="buffRollSpeed">5</span>/s</div>
        </div>

        <div id="bottomRightControls" class="toggle-controls"></div>

        <div id="rollOptionsPanelContainer" class="menu-panel-container">
            <div id="quickOptionsPanel" class="menu-panel-side">
                <h3>Quick Options</h3>
                
                <div class="preset-section">
                    <div class="preset-header">
                        <span>Roll Presets</span>
                        <button class="btn btn-preset-toggle" id="rollPresetsBtn">Show ‚ñº</button>
                    </div>
                    <div class="preset-list" id="rollPresetsDropdown">
                        <button class="preset-btn" data-rolls="100">100 rolls</button>
                        <button class="preset-btn" data-rolls="1000">1,000 rolls</button>
                        <button class="preset-btn" data-rolls="10000">10,000 rolls</button>
                        <button class="preset-btn" data-rolls="100000">100,000 rolls</button>
                        <button class="preset-btn rolls-red" data-rolls="1000000">1,000,000 rolls</button>
                        <button class="preset-btn rolls-redder" data-rolls="10000000">10,000,000 rolls</button>
                        <button class="preset-btn rolls-very-red" data-rolls="100000000">100,000,000 rolls</button>
                    </div>
                </div>

                <div class="preset-section">
                    <div class="preset-header">
                        <span>Luck Presets</span>
                        <button class="btn btn-preset-toggle" id="luckPresetsBtn">Show ‚ñº</button>
                    </div>
                    <div class="preset-list" id="luckPresetsDropdown">
                        <button class="preset-btn" data-luck="10000" data-dune="true">Potion of the Dune - 10,000</button>
                        <button class="preset-btn" data-luck="50000">Potion of Bound - 50,000</button>
                        <button class="preset-btn" data-luck="150000">Heavenly Potion - 150,000</button>
                        <button class="preset-btn" data-luck="200000">Heavenly + Bound - 200,000</button>
                        <button class="preset-btn" data-luck="400000">Godlike Potion - 400,000</button>
                        <button class="preset-btn" data-luck="600000">Godlike + Heavenly + Bound - 600,000</button>
                        <button class="preset-btn" data-luck="600000" data-oblivion="true">Oblivion Potion - 600,000</button>
                        <button class="preset-btn" data-luck="700000">Pump King's Blood - 700,000</button>
                    </div>
                </div>

                <div class="quick-biome-section">
                    <span class="quick-biome-label">Quick Biome</span>
                    <div class="quick-biome-buttons">
                        <button class="preset-btn quick-biome-btn" data-biome="glitch">Glitch</button>
                        <button class="preset-btn quick-biome-btn" data-biome="cyberspace">Cyberspace</button>
                        <button class="preset-btn quick-biome-btn" data-biome="dreamspace">Dreamspace</button>
                        <button class="preset-btn quick-biome-btn" data-biome="limbo">LIMBO</button>
                        <button class="preset-btn quick-biome-btn" data-biome="">None</button>
                    </div>
                </div>
            </div>

            <div id="rollOptionsPanel" class="menu-panel-main">
                <h3>Roll Options</h3>
                <label for="rollsInput">Rolls</label>
                <input id="rollsInput" class="input-field" type="number" min="1" value="1">

                <label for="luckInput">Luck</label>
                <input id="luckInput" class="input-field" type="number" min="1" step="1" value="1">

                <label for="biomeSelect">Biome</label>
                <select id="biomeSelect" class="select-field">
                    <option value="">None</option>
                    <option value="day">Day</option>
                    <option value="night">Night</option>
                    <option value="rainy">Rainy</option>
                    <option value="windy">Windy</option>
                    <option value="snowy">Snowy</option>
                    <option value="sandstorm">Sandstorm</option>
                    <option value="hell">Hell</option>
                    <option value="starfall">Starfall</option>
                    <option value="heaven">Heaven</option>
                    <option value="corruption">Corruption</option>
                    <option value="null">NULL</option>
                    <option value="dreamspace">Dreamspace</option>
                    <option value="glitch">Glitch</option>
                    <option value="cyberspace">Cyberspace</option>
                    <option value="limbo">LIMBO</option>
                </select>

                <div class="roll-speed-section">
                    <label for="rollSpeedInput">Roll Speed</label>
                    <input id="rollSpeedInput" class="input-field" type="number" min="1" max="15" value="1">
                    <span class="hint-text">Rolls per second (max 15)</span>
                </div>
            </div>

            <div id="specialOptionsPanel" class="menu-panel-side">
                <h3>Special Options</h3>
                <div class="special-auras-section">
                    <div class="option-row">
                        <label for="oblivionToggle">Allow Oblivion/Memory</label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="oblivionToggle">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    <div class="option-row">
                        <label for="duneToggle">Allow Neferkhaf</label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="duneToggle">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                </div>
            </div>
        </div>

        <div id="settingsPanel" class="menu-panel">
            <h3>Settings</h3>
            <div class="option-row">
                <label for="flashesToggle">Flashes</label>
                <label class="toggle-switch">
                    <input type="checkbox" id="flashesToggle" checked>
                    <span class="toggle-slider"></span>
                </label>
            </div>
            <div class="option-row">
                <label for="animationsToggle">Animations</label>
                <label class="toggle-switch">
                    <input type="checkbox" id="animationsToggle" checked>
                    <span class="toggle-slider"></span>
                </label>
            </div>
            <div class="option-row">
                <label for="cutscenesToggle">Cutscenes <span class="tba-label">(TBA)</span></label>
                <label class="toggle-switch">
                    <input type="checkbox" id="cutscenesToggle" checked disabled>
                    <span class="toggle-slider"></span>
                </label>
            </div>
            <div class="option-row">
                <label for="warningsToggle">Warnings</label>
                <label class="toggle-switch">
                    <input type="checkbox" id="warningsToggle" checked>
                    <span class="toggle-slider"></span>
                </label>
            </div>
            <div class="settings-section">
                <label for="autoStopRarityInput">Stop Auto Roll on rarity above:</label>
                <input id="autoStopRarityInput" class="input-field" type="number" min="1" value="" placeholder="e.g. 1000000">
                <span class="hint-text">Leave empty to never stop</span>
            </div>
        </div>

        <div id="rollArea">
            <div id="progressBar">
                <div id="progressBarFill"></div>
            </div>
            <div id="progressInfo">
                <span id="progressText">0%</span>
                <span id="timeText">0.0s</span>
            </div>
            <div id="rollButtons">
                <button class="btn btn-toggle" id="rollOptionsBtn">Roll Options</button>
                <button class="btn btn-primary" id="rollButton">Roll</button>
                <button class="btn btn-toggle" id="settingsBtn">Settings</button>
            </div>
            <button class="btn btn-toggle" id="autoRollBtn">Auto Roll: OFF</button>
        </div>
    </div>

    <!-- Custom Warning Modal -->
    <div id="warningModal" class="warning-modal hidden">
        <div class="warning-backdrop"></div>
        <div class="warning-container">
            <div class="warning-icon">‚ö†Ô∏è</div>
            <div class="warning-message" id="warningMessage"></div>
            <div class="warning-buttons">
                <button class="btn btn-primary" id="warningYes">Yes</button>
                <button class="btn btn-toggle" id="warningNo">No</button>
            </div>
            <div class="warning-disable-option">
                <span class="warning-disable-text">Disable all warnings?</span>
                <label class="toggle-switch">
                    <input type="checkbox" id="warningDisableCheckbox">
                    <span class="toggle-slider"></span>
                </label>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
    <script src="rolling.js"></script>
</body>
</html>
