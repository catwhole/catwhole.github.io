<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Which Gauntlet is Best for You?</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Changa:wght@200..800&display=swap" rel="stylesheet">
    <style>
        /* General Styles */
        body {
            font-family: 'Changa', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #434343;
            color: #e0e0e0;
        }

        .container {
            max-width: 600px;
            margin: 20px auto;
            padding: 20px;
            background-color: #2a2a2a;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4);
        }

        h2, h3 {
            color: #2dd4bf;
            text-align: center;
        }

        label {
            display: block;
            margin: 15px 0 5px;
            color: #e0e0e0;
        }

        input, select, button {
            width: 100%;
            padding: 10px;
            margin: 5px 0 15px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            background-color: #3a3a3a;
            color: #e0e0e0;
            outline: none;
            transition: all 0.2s ease;
            font-family: 'Changa', sans-serif;
        }

        input:focus, select:focus, button:focus {
            border: 2px solid #2dd4bf;
            font-family: 'Changa', sans-serif;
            box-shadow: 0 0 8px rgba(45, 212, 191, 0.3);
        }

        button {
            background-color: #2dd4bf;
            color: #1a1a1a;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        button:hover {
            background-color: #14b8a6;
        }

        .checkbox-container {
            display: flex;
            align-items: center;
            margin: 8px 0;
            padding: 8px;
            border-radius: 8px;
            transition: all 0.2s ease;
            background-color: #363636;
        }

        .checkbox-container:hover {
            background-color: #3a3a3a;
            transform: translateX(4px);
        }

        .checkbox-container input[type="checkbox"] {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border: 2px solid #2dd4bf;
            border-radius: 4px;
            margin-right: 12px;
            position: relative;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .checkbox-container input[type="checkbox"]:checked {
            background-color: #2dd4bf;
            border-color: #2dd4bf;
        }

        .checkbox-container input[type="checkbox"]:checked::after {
            content: "✓";
            position: absolute;
            left: 50%;
            top: 45%;
            transform: translate(-50%, -50%);
            color: #1a1a1a;
            font-weight: bold;
        }

        .checkbox-container label {
            margin: 0;
            flex: 1;
            color: #e0e0e0;
            cursor: pointer;
            transition: color 0.2s ease;
        }

        .checkbox-container:hover label {
            color: #2dd4bf;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
            overflow: auto;
        }

        .modal-content {
            background-color: #2a2a2a;
            margin: 10% auto;
            padding: 20px;
            border: 1px solid #3a3a3a;
            border-radius: 15px;
            width: 80%;
            max-width: 500px;
            color: #e0e0e0;
            position: relative;
        }

        .modal-content h2 {
            border-bottom: 2px solid #7f9ac4;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }

        .result-line {
            margin: 8px 0;
            padding: 8px;
            background-color: #363636;
            border-radius: 6px;
        }

        .highlight {
            color: #7fbed1;
            font-weight: 600;
        }

        .results-section {
            margin: 15px 0;
            padding: 10px;
            border-radius: 8px;
            background-color: #2d2d2d;
        }

        .close {
            color: #2dd4bf;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        .close:hover {
            color: #14b8a6;
        }

        #modalResult {
            white-space: normal;
            line-height: 1.6;
        }

        .button-secondary {
            background-color: #71d1e9; 
            margin-top: 10px;
        }

        .button-secondary:hover {
            background-color: #639ac7;
        }

        #toolsModal .modal-content {
            padding: 15px;
        }

        .tool-button {
            margin: 5px 0;
            background-color: #71d1e9;
        }

        .tool-button:hover {
            background-color: #639ac7;
        }

        #comparisonModal .modal-content {
            background-color: #2a2a2a;
            margin: 10% auto;
            padding: 20px;
            border-radius: 15px;
            width: 80%;
            max-width: 500px;
            color: #e0e0e0;
            position: relative;
            line-height: 1.6;
        }

        #comparisonModal #modalComparison {
            font-size: 16px; 
            line-height: 1.6; 
            white-space: normal;
            text-align: center; 
            width: 100%; 
        }

        #comparisonModal .close {
            color: #2dd4bf;
            font-size: 24px; 
        }

        #comparisonModal .close:hover {
            color: #14b8a6;
        }

        #comparisonModal .result-line {
            margin: 5px 0;
            padding: 3px;
            background-color: #363636;
            border: 1px solid #3a3a3a;
            border-radius: 5px;
        }

        #comparisonModal .highlight {
            color: #7fbed1;
            font-weight: bold;
        }

        #comparisonModal h2 {
            font-family: 'Changa', sans-serif;
            margin-bottom: 20px;
        }

        #comparisonModal h3 {
            font-family: 'Changa', sans-serif;
            margin: 15px 0 10px;
            color: #82a4d8;
        }

        #myModal p {
            margin: 0 0 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h2>Which Gauntlet is Best for You?</h2>

        <!-- Input for Luck -->
        <label for="luck">Input your Luck from the Stats Board (UNEQUIP ALL L GAUNTLETS):</label>
        <input type="number" id="luck" placeholder="Enter your Luck (Unequip L Gauntlets)" required>

        <label for="gauntletSpeed">What is your R Gauntlet? (To find out Roll Speed)</label>
        <select id="gauntletSpeed">
            <option value="0">None</option>     
            <option value="15">Lunar / Eclipse Device</option>
            <option value="20">Exo Gauntlet</option>
            <option value="30">Galactic Device / Windstorm Device / Subzero Device / Snow Rider</option>
            <option value="35">Volcanic Device / Exoflex Device / Hologrammer</option>
            <option value="40">Ragnaröker</option>
            <option value="50">Starshaper</option>
        </select>

        <!-- Additional Roll Speed values -->
        <h3>Additional Roll Speed values</h3>

        <!-- Checkboxes for additional variables -->
        <div class="checkbox-container">
            <input type="checkbox" id="speedPotion">
            <label for="speedPotion">Speed Potion?</label>
        </div>

        <div class="checkbox-container">
            <input type="checkbox" id="knowledgeOne">
            <label for="knowledgeOne">The Knowledge 1 or Chosen?</label>
        </div>

        <div class="checkbox-container">
            <input type="checkbox" id="knowledgeTwo">
            <label for="knowledgeTwo">The Knowledge 2 or Godlike?</label>
        </div>

        <div class="checkbox-container">
            <input type="checkbox" id="hwachae">
            <label for="hwachae">Hwachae?</label>
        </div>

        <div class="checkbox-container">
            <input type="checkbox" id="bank">
            <label for="bank">Bank?</label>
        </div>

        <div class="checkbox-container">
            <input type="checkbox" id="transcendant">
            <label for="transcendant">Transcendant or Warp Potion?</label>
        </div>

        <div class="checkbox-container">
            <input type="checkbox" id="santa">
            <label for="santa">Santa Claus Potion?</label>
        </div>

        <label for="hastePotion">Haste Potion?</label>
        <select id="hastePotion">
            <option value="0">None</option>
            <option value="0.3">1</option>
            <option value="0.5">2</option>
            <option value="0.7">3</option>
        </select>

        <label for="vip">Do you have VIP/VIP+?</label>
        <select id="vip">
            <option value="1">No</option>
            <option value="1.2">VIP or VIP+</option>
            <option value="1.3">Both VIP and VIP+</option>
        </select>

        <div class="checkbox-container">
            <input type="checkbox" id="xyz">
            <label for="xyz">Do you have the 2x luck (Dorcelessness) buff active?</label>
        </div>

        <label for="elementSpeed">Resonance of Elements speed (the thingy on mountain):</label>
        <input type="number" id="elementSpeed" placeholder="Enter Resonance of Elements Speed in %" required>

        <!-- Button to trigger calculation -->
        <button onclick="calculateGauntlets()">Calculate</button>

        <!-- Additional Calculations Button -->
        <button class="button-secondary" onclick="openToolsModal()">Extra Calculators</button>
    </div>

    <!-- Modal -->
    <div id="myModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <p id="modalResult"></p>
        </div>
    </div>

    <div id="comparisonModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeComparisonModal()">&times;</span>
            <p id="modalComparison"></p>
        </div>
    </div>

    <div id="toolsModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeToolsModal()">&times;</span>
            <h3 style="text-align: center">Extra Calculators</h3>
            <button class="tool-button" onclick="calculateDifference(),closeToolsModal()">
                "When is (Gauntlet) better than (Gauntlet)?"
            </button>
        </div>
    </div>

    <script>
        function calculateGauntlets() {
            // Get the input values
            var luck = parseFloat(document.getElementById("luck").value);
            var gauntletSpeed = parseFloat(document.getElementById("gauntletSpeed").value);
            var elementSpeed = parseFloat(document.getElementById("elementSpeed").value);
            var hastePotion = parseFloat(document.getElementById("hastePotion").value);
            var vip = parseFloat(document.getElementById("vip").value);

            // Check if inputs are valid
            if (isNaN(luck)) luck = 1;
            if (isNaN(elementSpeed)) elementSpeed = 0;

            // Get the values from checkboxes (adjusted logic for specific values)
            var speedPotion = document.getElementById("speedPotion").checked ? 0.25 : 0;
            var transcendant = document.getElementById("transcendant").checked ? 10 : 0;
            var knowledgeOne = document.getElementById("knowledgeOne").checked ? 0.3 : 0;
            var knowledgeTwo = document.getElementById("knowledgeTwo").checked ? 0.4 : 0;
            var hwachae = document.getElementById("hwachae").checked ? 0.25 : 0;
            var bank = document.getElementById("bank").checked ? 0.07 : 0;
            var santa = document.getElementById("santa").checked ? 0.25 : 0;
            var xyz = document.getElementById("xyz").checked ? 2 : 1;

            // True Roll Speed calculation for all gauntlets (adjustments can be applied later)
            var trsDecimal = gauntletSpeed / 100;
            var realElementSpeed = elementSpeed / 100;
            var trs = 1 + trsDecimal + speedPotion + knowledgeOne + knowledgeTwo + hwachae + bank + hastePotion + transcendant + realElementSpeed + santa;
            var trsJackpot = trs + 0.07;


            // Jackpot Gauntlet calculation
            var alJackpot = ((luck + (0.77 * xyz * vip) * 9) + ((luck + (0.77 * xyz * vip)) * 2)) / 10;
            var finalJackpotValue = alJackpot * (trsJackpot);

            // Gravitational Gauntlet calculation
            var alGrav = (((luck) * 9) + ((luck) * 6)) / 10;
            var finalGravValue = alGrav * trs;

            // Flesh Gauntlet calculation
            var alFlesh = (luck * 1.3);
            var finalFleshValue = alFlesh * trs;

            //Dark Shader calculation
            var alShader = ((((luck) * 2) * 4) + ((luck) * 16) + ((((luck) * 2) * 2.5) * 2) + (((luck) * 2.5) * 8)) / 30;
            var finalShaderValue = alShader * trs;

            //Pole Light Core calculation 
            var alPole = ((luck + (5 * xyz * vip)) * 4 + (luck + (5 * xyz * vip)) * 18)/(15 + ((((1)/(trs + 10)) * 5)/(((1)/(trs))))); 
            var finalPoleValue = alPole * trs;

            // Compare the final gauntlet values and determine which is the best
            let bestGauntlet = "";
            let bestValue = Math.max(finalJackpotValue, finalGravValue, finalFleshValue, finalShaderValue, finalPoleValue);

            if (bestValue === finalJackpotValue) {
                bestGauntlet = "Jackpot Gauntlet";
            } else if (bestValue === finalGravValue) {
                bestGauntlet = "Gravitational Device";
            } else if (bestValue === finalFleshValue) {
                bestGauntlet = "Flesh Device";
            } else if (bestValue === finalShaderValue) {
                bestGauntlet = "Darkshader"
            } else if (bestValue === finalPoleValue) {
                bestGauntlet = "Pole Light Core Device"
            }

            // Display the results in the modal
            document.getElementById("modalResult").innerHTML = 
            `<h2 style="color: #2dd4bf; text-align: center;">Results</h2>
            <div class="results-section">
                <div class="result-line">
                    <span class="highlight">Jackpot Gauntlet luck per second:</span> ${finalJackpotValue.toFixed(3)}
                </div>
                <div class="result-line">
                    <span class="highlight">Flesh Device luck per second:</span> ${finalFleshValue.toFixed(3)}
                </div>
                <div class="result-line">
                    <span class="highlight">Gravitational Device luck per second:</span> ${finalGravValue.toFixed(3)}
                </div>
                <div class="result-line">
                    <span class="highlight">Darkshader luck per second:</span> ${finalShaderValue.toFixed(3)}
                </div>
                <div class="result-line">
                    <span class="highlight">Pole Light Core Device luck per second:</span> ${finalPoleValue.toFixed(3)}
                </div>
            </div>
            <div class="results-section" style="margin-top: 20px;">
                <div class="result-line" style="background-color: #2d2d2d; border-left: 3px solid #2dd4bf;">
                    <span style="color: #2dd4bf; font-size: 1.1em;">Best Choice:</span> ${bestGauntlet}
                </div>
            </div>`;

            // Show the modal
            document.getElementById("myModal").style.display = "block";
        }

        function calculateDifference() {
            // Get input values (excluding luck)
            var gauntletSpeed = parseFloat(document.getElementById("gauntletSpeed").value);
            var elementSpeed = parseFloat(document.getElementById("elementSpeed").value);
            var hastePotion = parseFloat(document.getElementById("hastePotion").value);
            var vip = parseFloat(document.getElementById("vip").value);

            // Handle invalid inputs
            if (isNaN(gauntletSpeed)) gauntletSpeed = 0;
            if (isNaN(elementSpeed)) elementSpeed = 0;
            if (isNaN(vip)) vip = 1;

            // Get checkbox states
            var speedPotion = document.getElementById("speedPotion").checked ? 0.25 : 0;
            var transcendant = document.getElementById("transcendant").checked ? 10 : 0;
            var knowledgeOne = document.getElementById("knowledgeOne").checked ? 0.3 : 0;
            var knowledgeTwo = document.getElementById("knowledgeTwo").checked ? 0.4 : 0;
            var hwachae = document.getElementById("hwachae").checked ? 0.25 : 0;
            var bank = document.getElementById("bank").checked ? 0.07 : 0;
            var santa = document.getElementById("santa").checked ? 0.25 : 0;
            var xyz = document.getElementById("xyz").checked ? 2 : 1;

            // Calculate True Roll Speeds
            var trsDecimal = gauntletSpeed / 100;
            var realElementSpeed = elementSpeed / 100;
            var trs = 1 + trsDecimal + speedPotion + knowledgeOne + knowledgeTwo + hwachae + bank + hastePotion + transcendant + realElementSpeed + santa;
            var trsJackpot = trs + 0.07; // Jackpot has extra 0.07

            // Common constants
            var C = xyz * vip;
            
            // Calculate thresholds for each comparison
            // 1. Darkshader vs Pole Light Core
            var dsVsPole = (110 * C * (trs + 10)) / (14 * trs + 50);
            
            // 2. Jackpot vs Gravitational
            var jackVsGrav =  ((-0.847) * C * trsJackpot) / ((1.1 * trsJackpot) - (1.5 * trs));
            
            // 3. Flesh vs Gravitational
            var fleshVsGrav = 0; 
            
            // 4. Flesh vs Jackpot
            var fleshVsJack = ((0.847) * C * trsJackpot) / ((1.3 * trs) - (1.1 * trsJackpot));
            
            // 5. Darkshader vs Gravitational
            var dsVsGrav = 0;

            // Build result text
            var resultText = 
            `<h2 style="color: #2dd4bf; text-align: center">Gauntlet Comparison</h2>
            <p>The information is based on your provided values.</p>
            <p>The luck value is <span class="highlight">WITH L GAUNTLETS UNEQUIPPED.</span></p>
            <div class="results-section">
                <h3 style="color: #2dd4bf; margin: 0 0 5px;">Result</h3>
                <div class="result-line"><span class="highlight">Darkshader better than Pole at</span>: ${dsVsPole.toFixed(3)} luck</div>
                <div class="result-line""><span class="highlight">Gravitational better than Jackpot at</span>: ${jackVsGrav.toFixed(3)} luck</div>
                <div class="result-line""><span class="highlight">Flesh better than Jackpot at</span>: ${fleshVsJack.toFixed(3)} luck</div>
            </div>
            <div class="results-section">
                <h3 style="color: #2dd4bf">Other</h3>
                <div class="result-line"">✓ Gravitational is <span class="highlight">always</span> better than Flesh</div>
                <div class="result-line">✓ Darkshader is <span class="highlight">always</span> better than Gravitational</div>
                <div class="result-line">✓ Pole is <span class="highlight">always</span> better than all Gauntlets except Darkshader</div>
            </div>
            <div class="results-section">
                <h3 style="color: #2dd4bf">Information Used</h3>
                <div class="result-line">- Total Roll Speed: <span class="highlight">${trs.toFixed(2)}x</span></div>
                <div class="result-line">- VIP/VIP+? <span class="highlight">${document.getElementById('vip').options[document.getElementById('vip').selectedIndex].text}</span></div>
                <div class="result-line">- 2x luck (Dorcelessness) buff? <span class="highlight">${xyz === 2 ? 'Yes' : 'No'}</span></div>
            </div>`;

            document.getElementById("comparisonModal").style.display = "block";
            document.getElementById("modalComparison").innerHTML = resultText;
        }

        function closeModal() {
            document.getElementById("myModal").style.display = "none";
        }

        function openToolsModal() {
            document.getElementById("toolsModal").style.display = "block";
        }

        function closeToolsModal() {
            document.getElementById("toolsModal").style.display = "none";
        }

        function openComparisonModal() {
            document.getElementById("comparisonModal").style.display = "block";
        }

        function closeComparisonModal() {
            document.getElementById("comparisonModal").style.display = "none";
        }

        window.onclick = function(event) {
            var modals = ['myModal', 'toolsModal', 'comparisonModal'];
            modals.forEach(function(modalId) {
                var modal = document.getElementById(modalId);
                if (event.target == modal) {
                    modal.style.display = "none";
                }
            });
        }
    </script>

</body>
</html>