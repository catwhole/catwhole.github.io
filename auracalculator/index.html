<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aura Chance Calculator</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Changa:wght@200..800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <audio id="bgMusic" loop muted>
        <source id="bgMusicSource" src="elevator.mp3" type="audio/mpeg">
    </audio>
    <div class="container">
        <div class="button-group">
            <a href="../" class="back-button">Back</a>
            <button id="musicToggle" onclick="toggleMusic()" class="button-music">Play Music</button>
        </div>
        <h2>Aura Chance Calculator</h2>

        <button id="modeToggle" onclick="toggleMode()" class="button-secondary">Switch to Advanced Mode</button>

        <div class="search-container">
            <label for="auraInput">Search and Select Aura:</label>
            <div style="position: relative;">
                <input type="text" id="auraInput" placeholder="Start typing to search auras..." autocomplete="on">
                <button id="resetSearch" onclick="resetSearch()">✕</button>
            </div>
            <select id="auraSelect" size="5">
            </select>
        </div>

        <div id="luckContainer">
            <label for="luck">Input your Luck:</label>
            <input type="number" id="luck" placeholder="Enter your Luck" required>
        </div>

        <div id="advancedOptions" style="display: none;">
            <p class="warning-text">If you want an accurate calculation, ensure that the inputted luck is your luck from the stats board.</p>
            
            <button id="toggleRollSpeed" onclick="toggleRollSpeed()" class="button-secondary">Toggle Roll Speed Options</button>
            <div id="rollSpeedOptions" style="display: none;">
                <label for="gauntletSpeed">What is your R Gauntlet?</label>
                <select id="gauntletSpeed">
                    <option value="0">None</option>     
                    <option value="0.15">Lunar / Eclipse Device</option>
                    <option value="0.2">Exo Gauntlet</option>
                    <option value="0.3">Galactic Device / Windstorm Device / Subzero Device / Snow Rider</option>
                    <option value="0.35">Volcanic Device / Exoflex Device / Hologrammer</option>
                    <option value="0.4">Ragnaröker</option>
                    <option value="0.5">Starshaper</option>
                </select>

                <div class="checkbox-container">
                    <input type="checkbox" id="speedPotion">
                    <label for="speedPotion">Speed Potion?</label>
                </div>

                <div class="checkbox-container">
                    <input type="checkbox" id="knowledgeOne">
                    <label for="knowledgeOne">The Knowledge 1 or Chosen?</label>
                </div>

                <div class="checkbox-container">
                    <input type="checkbox" id="knowledgeTwo">
                    <label for="knowledgeTwo">The Knowledge 2 or Godlike?</label>
                </div>

                <div class="checkbox-container">
                    <input type="checkbox" id="hwachae">
                    <label for="hwachae">Hwachae?</label>
                </div>

                <div class="checkbox-container">
                    <input type="checkbox" id="bank">
                    <label for="bank">Bank?</label>
                </div>

                <div class="checkbox-container">
                    <input type="checkbox" id="transcendant">
                    <label for="transcendant">Transcendant or Warp Potion?</label>
                </div>

                <div class="checkbox-container">
                    <input type="checkbox" id="santa">
                    <label for="santa">Santa Claus Potion?</label>
                </div>

                <label for="hastePotion">Haste Potion?</label>
                <select id="hastePotion">
                    <option value="0">None</option>
                    <option value="0.3">1</option>
                    <option value="0.5">2</option>
                    <option value="0.7">3</option>
                </select>

                <label for="elementSpeed">Resonance of Elements speed (the thingy on mountain):</label>
                <input type="number" id="elementSpeed" placeholder="Enter Resonance of Elements Speed in %" required>
            </div>
        </div>

        <button onclick="calculateChance()">Calculate</button>
    </div>

    <div id="resultModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <div id="modalResult"></div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>